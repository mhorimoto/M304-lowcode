2024/03/03
複合環境条件を判定して動作制御を行う判定と制御の入口までは出来ました。(Ver2.5.2D7)
そこで、ひとつの悩みが出ました。

今までは、
制御開始時刻から制御終了時刻までの間、動作間隔時間と動作時間を指定していました。

これに条件が加わると、
制御開始時刻から制御終了時刻までの間、条件が合致すると動作を開始する。

動作の終了は、
条件が合致(A)しなくなるか、動作時間(B)を超えるまでにするのか、

この場合、
1) Aが有効であってもBが超えたら止める。
2) Aが有効ならばBは無視する。

堀本は、2) の方を採用したいと思います。Aが無効になってBの時間が超えたら止める。ということです。
具体的には、AはA-10Sで10秒毎にデータを送信してきます。Bは1分とします(今はまだ分単位です)。

1) A条件が30秒間有効であったとします。40秒目のデータで無効化されたら動作は終了します。
2) A条件が1分30秒間有効であったとします。1分を超えていますが、動作は継続します。
3) 2)の状況の継続で1分40秒目のデータが無効化されたら。動作は終了します。
4) ただし、2)の状況の継続で1分40秒目のデータが受信されなければ1分30秒目から動作時間(B)の間
　　動作を継続させて終了する。(精密なUECSの仕様とは異なりますが、制御側の都合で時間を設定
　　したいのでこの方式を試したい）

すなわち、複合環境条件を指定した場合には、動作間隔時間や動作時間の設定は無視される。
という方式を採用したいと思います。(4)は例外処理です。
